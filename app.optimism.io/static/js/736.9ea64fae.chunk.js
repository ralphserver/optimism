"use strict";(self.webpackChunk_gateway_frontend=self.webpackChunk_gateway_frontend||[]).push([[736],{41177:function(e,n,t){t.d(n,{Z:function(){return q}});var a=t(34795),s=t(2867),r=t(77162),i=t.n(r),o=t(96902),c=t(77287),l=t(25409),d=t(1864),u=t(81705),m=t(14383),h=t(6359),x=t(97224),f=t(86208),p=t(60234),v=t(52543),b=t(26545),_=t(16884),j=t(78189),w=t(20767),k=t(79764),g=t(61829),N=t(5716),y=t(70864),E=t(67816),I=t(67833),T=t(22293),C=t(70924),S=t(48654),Z=t(95052),O=t(19001),R=t(95541),G=t(59158),M=t(54229),D=t(3745),A=t(35653),P=t(29938);var H=function(){return(0,P.jsxs)("div",{className:"wallet-coin-animation__container",children:[(0,P.jsx)("img",{alt:"back of wallet",src:D}),(0,P.jsx)("img",{alt:"animation of coin dropping into wallet",className:"coin first",src:A}),(0,P.jsx)("img",{alt:"animation of coin dropping into wallet",className:"coin second",src:A}),(0,P.jsx)("img",{alt:"animation of coin dropping into wallet",className:"coin third",src:A}),(0,P.jsx)("img",{alt:"front of wallet",src:M})]})},L=t(52446),F=t(54808);var q=function(e){var n,t,r,M,D,A,q,B,U,W,$=e.routingOption,K=e.type,z=e.showTransactionModal,J=e.amount,Y=e.handleClose,V=e.telaportr,Q=e.gasFeeToTransfer,X=e.relayTransaction,ee=e.resetComponent,ne=(0,m.sJ)(h.G2),te=(0,G.Z)(J,ne.symbol),ae=(0,G.Z)(Q),se=(0,u.OP)(),re=(0,G.Z)(se),ie=(0,o.useRef)(V);ie.current=V;var oe=function(){var e=ie.current;if(!e)throw new Error("Must pass in telaportr if routingOption is telaportr");return e},ce=(0,N.K)(),le=ce.chainId,de=ce.account,ue=ce.library,me=(0,o.useState)(!1),he=(0,s.Z)(me,2),xe=he[0],fe=he[1],pe=(0,o.useState)(!1),ve=(0,s.Z)(pe,2),be=ve[0],_e=ve[1],je=(0,o.useState)(!1),we=(0,s.Z)(je,2),ke=we[0],ge=we[1],Ne=(0,o.useState)(!0),ye=(0,s.Z)(Ne,2),Ee=ye[0],Ie=ye[1],Te=(0,o.useState)(!1),Ce=(0,s.Z)(Te,2),Se=Ce[0],Ze=Ce[1],Oe=(0,o.useState)(!1),Re=(0,s.Z)(Oe,2),Ge=Re[0],Me=Re[1],De=(0,o.useState)(_.s5.CLAIM===K?2:1),Ae=(0,s.Z)(De,2),Pe=Ae[0],He=Ae[1],Le=(0,o.useState)(""),Fe=(0,s.Z)(Le,2),qe=Fe[0],Be=Fe[1],Ue=(0,o.useState)(""),We=(0,s.Z)(Ue,2),$e=We[0],Ke=We[1],ze=(0,m.sJ)(h.CH),Je=(0,o.useState)(0),Ye=(0,s.Z)(Je,2),Ve=Ye[0],Qe=Ye[1],Xe=(0,o.useState)(""),en=(0,s.Z)(Xe,2),nn=en[0],tn=en[1],an=(0,m.FV)(h.TV),sn=(0,s.Z)(an,2)[1],rn=(0,C.y)("ETHEREUM","usd"),on=((0,y.K)(_.Cp,le===E.ny.chainId?I.qr.chainId:I.tm.chainId)||{}).tokens,cn=((0,y.K)(_.Cp,le&&(0,u.fk)(le)?I.tm.chainId:I.qr.chainId)||{}).tokens,ln=((0,y.K)(_.Cp,le&&(0,u.fk)(le)?E.UY.chainId:E.ny.chainId)||{}).tokens,dn=(0,T.F)(ne.address,de,nn);(0,o.useEffect)((function(){var e=function(){var e=(0,a.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===on||void 0===on?void 0:on.find((function(e){return e.symbol===ne.symbol})))){e.next=6;break}return e.next=4,ze.getBridgeForTokenPair(ne.address,null===n||void 0===n?void 0:n.address);case 4:t=e.sent,tn(t.l1Bridge.address);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();K===_.s5.DEPOSIT&&ne.chainId===le&&e().catch(console.log)}),[le,K,ne,ze,on]),(0,o.useEffect)((function(){_.s5.CLAIM===K&&2===Pe&&z&&un()}),[_.s5,X,Pe,z]);var un=function(){var e=(0,a.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==Pe){e.next=18;break}return e.prev=1,null!==X&&void 0!==X&&X.transactionHash&&Ke(X.transactionHash),e.next=5,ze.finalizeMessage(null===X||void 0===X?void 0:X.transactionHash);case 5:return n=e.sent,He(3),e.next=9,n.wait();case 9:t=e.sent,Be(t.transactionHash),He(4),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),(0,R.toast)("Failed to claim"),pn();case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),mn=function(){var e=(0,a.Z)(i().mark((function e(){var n,t,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me(!0),e.prev=1,"ETH"!==(null===ne||void 0===ne?void 0:ne.symbol)){e.next=8;break}return e.next=5,ze.withdrawETH(w.vz(J.toString(),ne.decimals));case 5:n=e.sent,e.next=16;break;case 8:if(t=null===ln||void 0===ln?void 0:ln.find((function(e){return e.symbol===ne.symbol})),a=null===cn||void 0===cn?void 0:cn.find((function(e){return e.symbol===ne.symbol})),t&&a){e.next=12;break}throw new Error("unable to find token");case 12:if(!t){e.next=16;break}return e.next=15,ze.withdrawERC20(t.address,a.address,w.vz(J.toString(),ne.decimals));case 15:n=e.sent;case 16:if(!n){e.next=21;break}return e.next=19,n.wait();case 19:(s=e.sent).status&&(Be(s.transactionHash),He(2));case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),console.log(e.t0),(0,R.toast)("failed to withdraw");case 27:Me(!1);case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}(),hn=function(){var e=(0,a.Z)(i().mark((function e(){var n,t,a,s,r,o,c,l,d,u,m,h,x,f,p,v,b,k,g,N,y,E,I,T,C,S,Z;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He(2),e.prev=1,t=null,"ETH"!==(null===ne||void 0===ne?void 0:ne.symbol)){e.next=41;break}if(a=w.vz(J.toString(),ne.decimals),$!==O.D.OFFICIAL_BRIDGE){e.next=11;break}return e.next=8,ze.depositETH(a);case 8:n=e.sent,e.next=39;break;case 11:if($!==O.D.TELAPORTR){e.next=38;break}t=V.send(a);case 13:return e.next=16,new Promise((function(e){return setTimeout(e,300)}));case 16:if("None"!==(null===(s=ie.current)||void 0===s?void 0:s.sendStatus.status)){e.next=20;break}return e.abrupt("continue",13);case 20:if("Mining"!==(null===(r=ie.current)||void 0===r?void 0:r.sendStatus.status)){e.next=24;break}return e.abrupt("break",36);case 24:if("Success"!==(null===(o=ie.current)||void 0===o?void 0:o.sendStatus.status)){e.next=28;break}return e.abrupt("break",36);case 28:if("Exception"!==(null===(c=ie.current)||void 0===c?void 0:c.sendStatus.status)){e.next=32;break}throw new Error("There was an exception with deposit");case 32:if("Fail"!==(null===(l=ie.current)||void 0===l?void 0:l.sendStatus.status)){e.next=34;break}throw new Error("There was an exception with deposit");case 34:e.next=13;break;case 36:e.next=39;break;case 38:throw new Error("Unexpected routingOption ".concat($));case 39:e.next=49;break;case 41:if(!(d=null===on||void 0===on?void 0:on.find((function(e){return e.symbol===ne.symbol})))){e.next=48;break}return e.next=45,ze.depositERC20(ne.address,d.address,w.vz(J.toString(),ne.decimals));case 45:n=e.sent,e.next=49;break;case 48:throw Error("Could not find l2 token");case 49:if(He(3),!t){e.next=101;break}case 51:return e.next=54,new Promise((function(e){return setTimeout(e,500)}));case 54:return e.next=56,t;case 56:if(e.t0=e.sent,!(x=(0,e.t0)()).errorMessage){e.next=61;break}throw(0,R.toast)("Unable to send transaction"),new Error(x.errorMessage);case 61:if(!x.receipt){e.next=64;break}return Be(x.receipt.transactionHash),e.abrupt("break",66);case 64:e.next=51;break;case 66:return e.next=69,new Promise((function(e){return setTimeout(e,500)}));case 69:if(!oe().dispursementStatus){e.next=71;break}return e.abrupt("break",73);case 71:e.next=66;break;case 73:f=function(){var e,n,t,a,s,r,i,o=j.O$.from(null!==(e=null===(n=oe().dispursementStatus)||void 0===n?void 0:n.current_block_number)&&void 0!==e?e:0).sub(j.O$.from(null!==(t=null===(a=oe().dispursementStatus)||void 0===a||null===(s=a.teleport)||void 0===s?void 0:s.block_number)&&void 0!==t?t:0)),c=j.O$.from(null!==(r=null===(i=oe().dispursementStatus)||void 0===i?void 0:i.confirmations_required)&&void 0!==r?r:0).sub(o);return console.log("confirmations",{remaining:c.toNumber(),confirmations:o.toNumber(),teleportr:oe()}),{confirmations:o,confirmationsRemaining:c.gt(0)?c:j.O$.from(0)}},Qe(f().confirmations.toNumber());case 75:if(null===(p=oe().dispursementStatus)||void 0===p||!p.confirmations_remaining||!f().confirmationsRemaining.gt(0)){e.next=81;break}return e.next=78,new Promise((function(e){return setTimeout(e,500)}));case 78:Qe(f().confirmations.toNumber()),e.next=75;break;case 81:Qe(Number(null===(u=oe().dispursementStatus)||void 0===u?void 0:u.confirmations_required));case 82:if(null!==(v=oe().dispursementStatus)&&void 0!==v&&null!==(b=v.teleport)&&void 0!==b&&null!==(k=b.disbursement)&&void 0!==k&&k.success){e.next=92;break}if(console.log("checking dispursement status"),!1!==(null===(g=oe().dispursementStatus)||void 0===g||null===(N=g.teleport)||void 0===N||null===(y=N.disbursement)||void 0===y?void 0:y.success)){e.next=88;break}throw console.error("transaction failed",oe()),(0,R.toast)("There was an error tracking deposit state"),new Error("There was an error tracking deposit state");case 88:return e.next=90,new Promise((function(e){return setTimeout(e,5e3)}));case 90:e.next=82;break;case 92:if(null!==(E=oe().dispursementStatus)&&void 0!==E&&null!==(m=E.teleport)&&void 0!==m&&null!==(h=m.disbursement)&&void 0!==h&&h.success){e.next=97;break}return console.error("dispursement failed",E),console.warn("attempting to continue for now"),e.abrupt("return");case 97:Ke(E.teleport.disbursement.tx_hash),He(4),e.next=136;break;case 101:return I=n,e.next=104,null===I||void 0===I?void 0:I.wait();case 104:if(!(T=e.sent)||!T.blockNumber){e.next=136;break}if(null===T||void 0===T||!T.status){e.next=110;break}Be(T.transactionHash),e.next=112;break;case 110:throw(0,R.toast)("Unable to send transaction"),new Error("Unable to send transaction");case 112:return e.next=114,ze.l1Provider.getBlockNumber();case 114:C=e.sent,S=Ve,Qe(C-T.blockNumber);case 117:if(!(S<_.wC[le])){e.next=129;break}return console.log("checking cross chain messenger"),e.next=121,new Promise((function(e){return setTimeout(e,5e3)}));case 121:return e.next=123,ze.l1Provider.getBlockNumber();case 123:e.t1=e.sent,e.t2=T.blockNumber,S=e.t1-e.t2,Qe(Math.min(S,_.wC[le])),e.next=117;break;case 129:if(!(S>=_.wC[le])){e.next=136;break}return e.next=132,ze.waitForMessageReceipt(I).catch((function(e){console.error(e)}));case 132:(Z=e.sent)&&Ke(Z.transactionReceipt.transactionHash),"ETH"!==(null===ne||void 0===ne?void 0:ne.symbol)&&Ze(!0),He(4);case 136:e.next=143;break;case 138:e.prev=138,e.t3=e.catch(1),console.log(e.t3),(0,R.toast)("There was an error"),He(1);case 143:case"end":return e.stop()}}),e,null,[[1,138]])})));return function(){return e.apply(this,arguments)}}(),xn=function(){var e=(0,a.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me(!0),e.prev=1,!(n=null===on||void 0===on?void 0:on.find((function(e){return e.symbol===ne.symbol})))){e.next=10;break}return e.next=6,ze.approveERC20(ne.address,n.address,k.Bz);case 6:return t=e.sent,e.next=9,null===t||void 0===t?void 0:t.wait();case 9:Ie(!0);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:Me(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),fn=function(){var e=(0,a.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ue){e.next=13;break}return e.prev=1,n=null===on||void 0===on?void 0:on.find((function(e){return e.symbol===ne.symbol})),e.next=5,(0,u.St)(le===E.ny.chainId?I.qr.chainId:I.tm.chainId,ue);case 5:return e.next=7,(0,u.wi)(ue,n);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),(0,R.toast)("could not add asset to wallet"),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),pn=function(){fe(!1),_e(!1),(0,u.i8)(!1),Pe>(_.s5.CLAIM===K?2:1)&&ee(),He(_.s5.CLAIM===K?2:1),Qe(0),Y()};return(0,o.useEffect)((function(){if(dn&&J){var e=w.vz(J.toString(),ne.decimals);Ie(e.lte(dn))}}),[dn,J]),(0,o.useEffect)((function(){ge(!(!xe||!be))}),[xe,be]),(0,P.jsx)("div",{className:"transaction-modal__container",children:K===_.s5.WITHDRAW?(0,P.jsx)(c.Z,{open:z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,P.jsxs)("div",{children:[1===Pe?(0,P.jsxs)("div",{className:"transaction-modal__modal",children:[(0,P.jsxs)("div",{className:"transaction-modal__header",children:[(0,P.jsx)("h1",{children:"Confirm withdraw"}),(0,P.jsx)(l.G,{icon:d.NBC,onClick:function(){pn()}})]}),(0,P.jsxs)("div",{className:"transaction-modal__body",children:[(0,P.jsxs)("ul",{children:[(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsx)("h2",{children:"Amount to withdraw"})}),(0,P.jsxs)("div",{className:"transaction-modal__list-value",children:[(0,P.jsx)("span",{className:"transaction-modal__value-left",children:"".concat(J," ").concat(null===ne||void 0===ne?void 0:ne.symbol)}),rn?(0,P.jsxs)("span",{className:"transaction-modal__value-right",children:["$",te]}):(0,P.jsx)(x.Z,{width:"70px"})]})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsxs)("h2",{children:["Gas fee to initiate"," ",(0,P.jsx)(f.Z,{placement:"top",title:"Gas paid on Optimism to start your withdrawal",arrow:!0,children:(0,P.jsx)("span",{children:(0,P.jsx)(l.G,{icon:d.sqG})})})]})}),(0,P.jsxs)("div",{className:"transaction-modal__list-value",children:[(0,P.jsx)("span",{className:"transaction-modal__value-left",children:"".concat(Q," ETH")}),(0,P.jsxs)("span",{className:"transaction-modal__value-right",children:["0.00"===ae?"<":"","$",ae]})]})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsxs)("h2",{children:["Estimated gas fee to complete"," ",(0,P.jsx)(f.Z,{placement:"top",title:"Gas paid on ETH L1 to complete your withdrawal",arrow:!0,children:(0,P.jsx)("span",{children:(0,P.jsx)(l.G,{icon:d.sqG})})})]})}),(0,P.jsxs)("div",{className:"transaction-modal__list-value",children:[(0,P.jsxs)("span",{className:"transaction-modal__value-left",children:["~",se," ETH"]}),(0,P.jsxs)("span",{className:"transaction-modal__value-right",children:["$",re]})]})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsxs)("h2",{children:["Time to transfer"," ",(0,P.jsx)(f.Z,{placement:"top",title:"Withdrawals take about 7 days before they're considered final on Optimism",arrow:!0,children:(0,P.jsx)("span",{children:(0,P.jsx)(l.G,{icon:d.sqG})})})]})}),(0,P.jsx)("div",{className:"transaction-modal__list-value",children:(0,P.jsx)("span",{className:"transaction-modal__value-left",children:"~7 days"})})]})]}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"transaction-modal__checkbox",children:[(0,P.jsx)("div",{children:(0,P.jsx)(p.Z,{"data-cy":"seven-day-checkbox",checked:xe,onChange:function(){return fe((function(e){return!e}))},sx:{color:"var(--placeholder-text)"},size:"small"})}),(0,P.jsx)("span",{children:"I understand it will take ~7 days until my funds are claimable on Ethereum Mainnet."})]}),(0,P.jsxs)("div",{className:"transaction-modal__checkbox",children:[(0,P.jsx)("div",{children:(0,P.jsx)(p.Z,{"data-cy":"claim-checkbox",checked:be,onChange:function(){return _e((function(e){return!e}))},sx:{color:"var(--placeholder-text)"},size:"small"})}),(0,P.jsxs)("span",{children:["I understand that once the funds are claimable Ethereum Mainnet I will need to send a transaction on L1 (~$",re," in fees) to receive the funds."]})]})]}),(0,P.jsx)(b.Z,{onClick:mn,text:"Start withdraw process",disabled:!ke,loader:Ge}),(0,P.jsx)("a",{className:"transaction-modal__third-party",href:L._j.WITHDRAW.create({}),children:"Use a third party bridge"})]})]}):null,2===Pe?(0,P.jsxs)("div",{className:"transaction-modal__modal finished",children:[(0,P.jsxs)("div",{className:"transaction-modal__header",children:[(0,P.jsx)("div",{}),(0,P.jsx)(l.G,{icon:d.XCy,className:"transactional-modal__main-icon"}),(0,P.jsx)(l.G,{icon:d.NBC,onClick:function(){pn()}})]}),(0,P.jsx)("h1",{className:"transaction-modal__complete-header",children:"Withdraw request submitted"}),(0,P.jsx)("p",{className:"transaction-modal__period-disclaimer",children:"You will be able to withdraw your funds in ~7 days once the challenge period ends."}),(0,P.jsxs)("a",{href:(0,u.MQ)(qe,le===I.qr.chainId||le===E.ny.chainId?I.qr.chainId:I.tm.chainId),target:"_blank",className:"transaction-modal__etherscan",rel:"noreferrer",children:[le===I.qr.chainId||le===E.ny.chainId?"Optimism Etherscan":"Optimism Kovan Etherscan"," ",(0,P.jsx)(l.G,{icon:g.gJF})]}),(0,P.jsx)(b.Z,{onClick:function(){pn(),sn(!0)},text:"Ok, got it"})]}):null]})}):(0,P.jsx)(c.Z,{open:z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,P.jsxs)("div",{children:[1===Pe?(0,P.jsxs)("div",{className:"transaction-modal__modal finished",children:[(0,P.jsxs)("div",{className:"transaction-modal__header",children:[(0,P.jsx)("h1",{children:"Confirm deposit"}),(0,P.jsx)(l.G,{icon:d.NBC,onClick:function(){pn()}})]}),(0,P.jsxs)("div",{className:"transaction-modal__body",children:[(0,P.jsxs)("ul",{children:[(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsx)("h2",{onClick:function(){},children:(0,P.jsxs)("a",{className:"transaction-modal__learn-more",href:"https://help.optimism.io/hc/en-us/articles/5779675996187-Depositing-into-Optimism",target:"_blank",rel:"noreferrer",children:["Routing",(0,P.jsx)(l.G,{style:{marginLeft:"4px"},icon:d.gJF})]})})}),(0,P.jsx)("div",{className:"transaction-modal__list-value",children:(0,P.jsxs)("span",{className:"transaction-modal__value-left",children:[$===O.D.TELAPORTR&&(0,P.jsx)("span",{className:"transaction-modal__icon",children:(0,P.jsx)(l.G,{icon:F.BDt})}),$]})})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsx)("h2",{children:"Amount to deposit"})}),(0,P.jsxs)("div",{className:"transaction-modal__list-value",children:[(0,P.jsx)("span",{className:"transaction-modal__value-left",children:"".concat(J," ").concat(null===ne||void 0===ne?void 0:ne.symbol)}),(0,P.jsx)("span",{className:"transaction-modal__value-right",children:rn?(0,P.jsxs)("span",{className:"transaction-modal__value-right",children:["$",te]}):(0,P.jsx)(x.Z,{width:"70px"})})]})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsx)("h2",{children:"Gas fee to transfer"})}),(0,P.jsxs)("div",{className:"transaction-modal__list-value",children:[(0,P.jsx)("span",{className:"transaction-modal__value-left",children:"".concat(Q," ETH")}),(0,P.jsxs)("span",{className:"transaction-modal__value-right",children:["$",ae]})]})]}),(0,P.jsxs)("li",{children:[(0,P.jsx)("div",{children:(0,P.jsxs)("h2",{children:["Time to transfer"," ",(0,P.jsx)(f.Z,{placement:"top",title:"Deposits take about ".concat($===O.D.TELAPORTR?"one to two minutes":"twenty minutes"," before they're considered final on Optimism"),arrow:!0,children:(0,P.jsx)("span",{children:(0,P.jsx)(l.G,{icon:d.sqG})})})]})}),(0,P.jsx)("div",{className:"transaction-modal__list-value",children:(0,P.jsx)("span",{className:"transaction-modal__value-left",children:$===O.D.TELAPORTR?"1 to 2 minutes":"~20 minutes"})})]})]}),(0,P.jsx)(b.Z,{onClick:Ee?hn:xn,text:Ee?"Deposit":"Approve",loader:Ge})]})]}):null,2===Pe?(0,P.jsx)(v.Z,{in:!0,timeout:100,children:(0,P.jsxs)("div",{className:"transaction-modal__modal finished",children:[(0,P.jsxs)("div",{className:"transaction-modal__header",children:[(0,P.jsx)("div",{}),(0,P.jsx)(l.G,{icon:d.X5K,className:"transactional-modal__main-icon"}),(0,P.jsx)(l.G,{icon:d.NBC,onClick:function(){pn()}})]}),(0,P.jsxs)("h1",{className:"transaction-modal__complete-header",children:["Initiate the"," ",_.s5.CLAIM===K?"withdraw":"deposit"]}),(0,P.jsxs)("p",{className:"transaction-modal__description",children:["Confirm the"," ",_.s5.CLAIM===K?"withdraw":"deposit"," ","on your wallet"]})]})}):null,3===Pe?(0,P.jsx)(v.Z,{in:!0,timeout:100,children:(0,P.jsxs)("div",{className:"transaction-modal__modal finished",children:[(0,P.jsxs)("div",{className:"transaction-modal__header",children:[(0,P.jsx)("div",{}),(0,P.jsx)(l.G,{icon:d.NBC,onClick:function(){pn()}})]}),(0,P.jsx)(H,{}),(0,P.jsx)("h1",{className:"transaction-modal__complete-header",children:_.s5.CLAIM===K?"Withdraw en route to Ethereum":"Deposit en route to Optimism"}),(0,P.jsxs)("div",{className:"transaction-modal__sending-via",children:["Sending via"," ",$===O.D.TELAPORTR&&(0,P.jsx)("span",{className:"transaction-modal__icon",children:(0,P.jsx)(l.G,{icon:F.BDt})}),$]}),Number.isInteger(Ve)&&Ve>=0&&qe&&_.s5.DEPOSIT===K&&null!==(n=$===O.D.TELAPORTR&&(null===(t=ie.current)||void 0===t||null===(r=t.dispursementStatus)||void 0===r?void 0:r.confirmations_required)&&"0"!==(null===(M=ie.current)||void 0===M||null===(D=M.dispursementStatus)||void 0===D?void 0:D.confirmations_required))&&void 0!==n&&n?$===O.D.TELAPORTR&&Ve.toString()===(null===(A=ie.current)||void 0===A||null===(q=A.dispursementStatus)||void 0===q?void 0:q.confirmations_required)?(0,P.jsx)("p",{className:"transaction-modal__confirmations",children:"Waiting for warp speed to dispurse funds"}):(0,P.jsxs)("p",{className:"transaction-modal__confirmations",children:["Confirmation ",Ve," of"," ",$===O.D.TELAPORTR?null!==(B=null===(U=ie.current)||void 0===U||null===(W=U.dispursementStatus)||void 0===W?void 0:W.confirmations_required)&&void 0!==B?B:0:_.wC[le]]}):null,qe?null:(0,P.jsxs)("p",{className:"transaction-modal__period-disclaimer",children:["Confirming on"," ",le&&(0,u.fk)(le)?"Kovan":"Ethereum Mainnet","..."]}),qe&&_.s5.DEPOSIT===K?(0,P.jsxs)("a",{href:(0,u.MQ)(qe,(0,u.fk)(le)?E.UY.chainId:E.ny.chainId),target:"_blank",className:"transaction-modal__etherscan",rel:"noreferrer",children:["Etherscan"," ",(0,P.jsx)(l.G,{icon:g.gJF})]}):null]})}):null,4===Pe?(0,P.jsx)(v.Z,{in:!0,timeout:100,children:(0,P.jsxs)("div",{className:"transaction-modal__modal finished",children:[(0,P.jsxs)("div",{className:"transaction-modal__header",children:[(0,P.jsx)("div",{}),(0,P.jsx)(l.G,{icon:d.NBC,onClick:function(){pn()}})]}),(0,P.jsx)(l.G,{className:"transaction-modal__success",icon:Z.fV7}),(0,P.jsxs)("h1",{className:"transaction-modal__complete-header",children:[_.s5.CLAIM===K?"Withdraw":"Deposit"," ","complete!"]}),(0,P.jsxs)("p",{className:"transaction-modal__period-disclaimer",children:["Your funds are now available"," ",_.s5.CLAIM===K?"on Ethereum":"in the scalable world of Optimism \ud83c\udf89"]}),(0,P.jsxs)("a",{href:(0,u.MQ)(qe,le===E.ny.chainId||le===I.qr.chainId?E.ny.chainId:E.UY.chainId),target:"_blank",className:"transaction-modal__etherscan",rel:"noreferrer",children:["Etherscan"," ",(0,P.jsx)(l.G,{icon:g.gJF})]}),(0,P.jsxs)("a",{href:(0,u.MQ)($e,le===E.ny.chainId||le===I.qr.chainId?I.qr.chainId:I.tm.chainId),target:"_blank",className:"transaction-modal__etherscan margin",rel:"noreferrer",children:[le===E.ny.chainId?"Optimism Etherscan":"Optimism Kovan Etherscan"," ",(0,P.jsx)(l.G,{icon:g.gJF})]}),qe&&K===_.s5.DEPOSIT?(0,P.jsxs)("button",{onClick:function(){return(0,u.Ao)((0,u.fk)(le)?I.tm.chainId:I.qr.chainId,ue)},className:"transaction-modal__add-metamask",children:[(0,P.jsxs)("span",{children:["Add Optimism ",(0,u.fk)(le)?"Kovan":""," ","Network to wallet"]}),(0,P.jsx)("img",{alt:"Metamask logo",src:S})]}):null,qe&&Se?(0,P.jsxs)("button",{onClick:fn,className:"transaction-modal__add-metamask",children:[(0,P.jsxs)("span",{children:["Add ",ne.symbol," to MetaMask"]}),(0,P.jsx)("img",{alt:"Metamask logo",src:S})]}):null,_.s5.DEPOSIT===K?(0,P.jsx)(b.Z,{onClick:function(){window.open("https://www.optimism.io/apps/all","_blank")},text:"Explore apps on Optimism"}):null]})}):null]})})})}},19001:function(e,n,t){t.d(n,{D:function(){return a}});var a={TELAPORTR:"Warp speed",OFFICIAL_BRIDGE:"Standard speed"}},10324:function(e,n,t){t.d(n,{d:function(){return k},V:function(){return g}});var a,s,r=t(33028),i=t(34795),o=t(77162),c=t.n(o),l=t(5716),d=t(7813),u=t(47626),m=t(78189),h=t(20767),x=t(56666),f=t(67816),p=(a={},(0,x.Z)(a,f.ny.chainId,"0x52ec2f3d7c5977a8e558c8d9c6000b615098e8fc"),(0,x.Z)(a,f.UY.chainId,"0x4821975ca220601c153d02353300d6ad34adc362"),a),v=(s={},(0,x.Z)(s,f.ny.chainId,"https://mainnet-teleportr.optimism.io"),(0,x.Z)(s,f.UY.chainId,"https://kovan-teleportr.optimism.io"),s),b=t(73593),_=t(70377),j=t(96902),w=t(81705),k=function(e,n){try{var t=m.O$.from(e).mul(n);return h.dF(t)}catch(a){return}},g=function(e,n,t){var a,s;if(t&&!(0,w.vc)(t))throw new Error("Teleportr passed a chain id that is not an l1 network: ".concat(t));var o=function(e){try{return h.vz(e,18)}catch(n){return 0}}(e),x=(0,l.K)().account,f=(0,d.F)(),g=(0,b.ZP)(Boolean(t&&x)&&"".concat(v[t],"/history/").concat(x),_.H.json),N=(0,b.ZP)(n&&"".concat(v[t],"/status"),_.H.json),y=N.data,E=x&&n&&e&&Number(e)>0,I=(0,b.ZP)(E?"".concat(v[t],"/estimate/").concat(x,"/").concat(o):null,_.H.json,{shouldRetryOnError:!1}),T=null===(a=I.data)||void 0===a?void 0:a.gas_estimate,C=(0,u.p)({transactionName:"Telaportr"}),S=C.sendTransaction,Z=C.state,O=(0,j.useRef)(Z);function R(){return(R=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==y&&void 0!==y&&y.is_available){e.next=2;break}throw new Error("Telaportr unavailable!");case 2:if(!m.O$.from(n).gt(y.max_deposit_amount_wei)){e.next=4;break}throw new Error("Value amount ".concat(n.toString()," is greater than max deposit amount of ").concat(y.max_deposit_amount_wei));case 4:if(!m.O$.from(n).lt(y.min_deposit_amount_wei)){e.next=6;break}throw new Error("Value amount ".concat(n.toString()," is less than min deposit amount of ").concat(y.min_deposit_amount_wei));case 6:return e.next=8,S({to:p[t],value:n});case 8:return e.abrupt("return",(function(){return O.current}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O.current=Z;var G=null===(s=Z.transaction)||void 0===s?void 0:s.hash,M=(0,b.ZP)(n&&G&&"".concat(v[t],"/track/").concat(G),_.H.json,{refreshInterval:function(e){var n;return null!==e&&void 0!==e&&null!==(n=e.teleport)&&void 0!==n&&n.disbursement?0:5e3}}),D=M.data;return{send:function(e){return R.apply(this,arguments)},errors:(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},N.error&&{status:N.error}),Z.errorMessage&&{send:Z.errorMessage}),M.error&&{track:M.error}),I.error&&{estimate:I.error}),gasEstimate:T&&f&&k(T,f),telaportrStatus:y,sendStatus:Z,dispursementStatus:D,historyQuery:g}}},59158:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(70924),s=[{symbol:"SNX",id:"havven"},{symbol:"ETH",id:"ethereum"},{symbol:"DAI",id:"dai"},{symbol:"USDT",id:"tether"},{symbol:"WBTC",id:"wrapped-bitcoin"},{symbol:"LINK",id:"chainlink"},{symbol:"USDC",id:"usd-coin"},{symbol:"RGT",id:"rari-governance-token"},{symbol:"UNI",id:"uniswap"}];function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ETHEREUM",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"usd",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o="string"===typeof e?parseFloat(e):e,c=s.find((function(e){return e.symbol===n})),l=(0,a.y)(c?c.id:n,t);if(void 0!==o&&void 0!==l)return(o*parseFloat(l)).toLocaleString(void 0,{maximumFractionDigits:r,minimumFractionDigits:i})}},35653:function(e,n,t){e.exports=t.p+"static/media/CoinIcon.273d2815e2b8f87277fb.webp"},3745:function(e,n,t){e.exports=t.p+"static/media/WalletBack.140ba8e795f654483ab1.webp"},54229:function(e,n,t){e.exports=t.p+"static/media/WalletFront.8a41bae4d061d4ab622a.webp"}}]);
//# sourceMappingURL=736.9ea64fae.chunk.js.map